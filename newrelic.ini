# ---------------------------------------------------------------------------
# New Relic Agent Configuration File - Popcorn App
# ---------------------------------------------------------------------------

[newrelic]

# License key - configurada vía variable de entorno NEW_RELIC_LICENSE_KEY
license_key = ${NEW_RELIC_LICENSE_KEY}

# Nombre de la aplicación en New Relic UI
app_name = popcorn-app

# Habilitar monitoreo
monitor_mode = true

# Logs a stdout para integración con CloudWatch
log_file = stdout

# Nivel de log (info para producción, debug para troubleshooting)
log_level = info

# High Security Mode deshabilitado
high_security = false

# Transaction tracer - Para análisis de desempeño de servicios (requerido en entrega)
# Captura información detallada de transacciones lentas
transaction_tracer.enabled = true
transaction_tracer.transaction_threshold = apdex_f

# Error collector - Para análisis de errores (requerido en entrega)
# Captura excepciones y errores de la aplicación
error_collector.enabled = true

# Datastore tracer - Para análisis de tiempos de respuesta de DB (requerido en entrega)
# Captura información sobre queries a PostgreSQL
datastore_tracer.instance_reporting.enabled = true
datastore_tracer.database_name_reporting.enabled = true

# Distributed tracing - Para trazas distribuidas
# Permite ver el path completo de un request
distributed_tracing.enabled = true

